---
description: qiita_reader_android の設計方針・構成（README に準拠）
globs: qiita_reader_android/**/*
alwaysApply: false
---

# 機能実装の TODO ワークフロー

機能を実装するときは、次の手順に従う。

## 1. 実装前に TODO を出力する

実装に入る**前**に、その機能を分解した **TODO リスト**を出力する。TODO の出力は**罫線のある表形式**とし、列は「No.」「内容」「所要時間」とする。各項目には番号（1, 2, 3, ...）を付け、**所要時間**は初回表示を **`--`** とする。

- **表形式の例**（Markdown・罫線あり）:
  ```
  | No. | 内容 | 所要時間 |
  | --- | --- | --- |
  | 1 | **見出し** 説明文 | -- |
  | 2 | **見出し** 説明文 | -- |
  | 3 | ... | -- |
  ```
- **TODO 表のタイトル**: 表の上に、**機能の概略を簡潔に記述**したタイトルを付ける（例: 「Data/Domain/Presentation の DI を Koin で注入する」）。
- TODO を**完了するごと**に、その TODO の所要時間を記入したうえで表を**更新して再出力**する。

## 2. レビュー完了後に 1 つずつ TODO を実行する

人間のレビューが完了したあと、**TODO を 1 つずつ**実行する。次の TODO に進むのは、現在の TODO が「完了」と判定されたあととする。

- **人間がレビューを完了したとみなす条件**: 人間が **「todo review done」** と入力すること。
- **TODO を実行するときの条件**（qiita_reader_android を編集する場合）: **`qiita_reader_android/README.md` を読み、その設計に従うこと。** 設計の正本は README のみとする。
- このルールを参照して回答した場合は、回答の**最初**に次の順で必ず出力すること。
  1. **現在のブランチ名**（`git branch --show-current` で取得。取得できない場合は「ブランチ: （未取得）」等とすること）
  2. 参照ルール: `.cursor/rules/qiita-reader-android.mdc`
  3. 参照ドキュメント: `qiita_reader_android/README.md`

## 3. 1 つの TODO の所要時間を計測する

各 TODO について、次の時間を計測する。

- **計測対象**: 実装を始めてから、人間がレビューし、その TODO が「完了」になるまでの時間
- **計測のしかた**: TODO の実装を開始した時点の日時を記録し、ユーザーが **「review done」** と入力した時点の日時で完了とする。必要なら「review done」を受け取った時点で経過時間を算出して表示する。

## 4. 1 つの TODO の完了条件

ある TODO が完了したとみなす条件は、**人間が「review done」と入力すること**とする。

「review done」を受け取るまで、その TODO は未完了として扱い、次の TODO には進まない。「review done」を受け取ったら、その TODO の所要時間を計測して表に反映し、**更新した TODO 表を再出力**する。
